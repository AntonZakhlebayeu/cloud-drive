{"ast":null,"code":"var _jsxFileName = \"/Users/antonzakhlebayeu/Pet-Projects/cloud-drive/client/src/components/disk/fileList/file/File.jsx\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport './file.css';\nimport dirLogo from '../../../../assets/img/dir.svg';\nimport fileLogo from '../../../../assets/img/file.svg';\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { pushToStack, setCurrentDir } from \"../../../../reducers/fileReducer\";\nimport { deleteFile, downloadFile } from \"../../../../actions/file\";\nimport sizeFormat from \"../../../../utils/sizeFormat\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst File = _ref => {\n  _s();\n\n  let {\n    file\n  } = _ref;\n  const dispatch = useDispatch();\n  const currentDir = useSelector(state => state.files.currentDir);\n  const fileView = useSelector(state => state.files.view);\n\n  function openDirHandler(file) {\n    if (file.type === 'dir') {\n      dispatch(pushToStack(currentDir));\n      dispatch(setCurrentDir(file._id));\n    }\n  }\n\n  function downloadClickHandler(e) {\n    e.stopPropagation();\n    downloadFile(file);\n  }\n\n  function deleteClickHandler(e) {\n    e.stopPropagation();\n    dispatch(deleteFile(file));\n  }\n\n  if (fileView === 'list') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file\",\n      onClick: () => openDirHandler(file),\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: file.type === 'dir' ? dirLogo : fileLogo,\n        alt: \"\",\n        className: \"file__img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file__name\",\n        children: file.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file__date\",\n        children: file.date.slice(0, 10)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file__size\",\n        children: sizeFormat(file.size)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this), file.type !== 'dir' && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => downloadClickHandler(e),\n        className: \"file__btn file__download\",\n        children: \"download\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => deleteClickHandler(e),\n        className: \"file__btn file__delete\",\n        children: \"delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }, this);\n  }\n\n  if (fileView === 'plate') {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"file-plate\",\n      onClick: () => openDirHandler(file),\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: file.type === 'dir' ? dirLogo : fileLogo,\n        alt: \"\",\n        className: \"file-plate__img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-plate__name\",\n        children: file.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"file-plate__btns\",\n        children: [file.type !== 'dir' && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => downloadClickHandler(e),\n          className: \"file-plate__btn file-plate__download\",\n          children: \"download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: e => deleteClickHandler(e),\n          className: \"file-plate__btn file-plate__delete\",\n          children: \"delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 13\n    }, this);\n  }\n};\n\n_s(File, \"aJorG2dI85eevCbyE60m/4mMD9A=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = File;\nexport default File;\n\nvar _c;\n\n$RefreshReg$(_c, \"File\");","map":{"version":3,"names":["React","dirLogo","fileLogo","useDispatch","useSelector","pushToStack","setCurrentDir","deleteFile","downloadFile","sizeFormat","File","file","dispatch","currentDir","state","files","fileView","view","openDirHandler","type","_id","downloadClickHandler","e","stopPropagation","deleteClickHandler","name","date","slice","size"],"sources":["/Users/antonzakhlebayeu/Pet-Projects/cloud-drive/client/src/components/disk/fileList/file/File.jsx"],"sourcesContent":["import React from 'react';\nimport './file.css'\nimport dirLogo from '../../../../assets/img/dir.svg'\nimport fileLogo from '../../../../assets/img/file.svg'\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {pushToStack, setCurrentDir} from \"../../../../reducers/fileReducer\";\nimport {deleteFile, downloadFile} from \"../../../../actions/file\";\nimport sizeFormat from \"../../../../utils/sizeFormat\";\nconst File = ({file}) => {\n    const dispatch = useDispatch()\n    const currentDir = useSelector(state => state.files.currentDir)\n    const fileView = useSelector(state => state.files.view)\n\n    function openDirHandler(file) {\n        if(file.type === 'dir') {\n            dispatch(pushToStack(currentDir))\n            dispatch(setCurrentDir(file._id))\n        }\n    }\n\n    function downloadClickHandler(e) {\n        e.stopPropagation()\n        downloadFile(file)\n    }\n\n    function deleteClickHandler(e) {\n        e.stopPropagation()\n        dispatch(deleteFile(file))\n    }\n\n    if (fileView === 'list') {\n        return (\n            <div className='file' onClick={() => openDirHandler(file)}>\n                <img src={file.type === 'dir' ? dirLogo : fileLogo} alt=\"\" className=\"file__img\"/>\n                <div className=\"file__name\">{file.name}</div>\n                <div className=\"file__date\">{file.date.slice(0, 10)}</div>\n                <div className=\"file__size\">{sizeFormat(file.size)}</div>\n                {file.type !== 'dir' &&\n                <button onClick={(e) => downloadClickHandler(e)} className=\"file__btn file__download\">download</button>}\n                <button onClick={(e) => deleteClickHandler(e)} className=\"file__btn file__delete\">delete</button>\n            </div>\n        );\n    }\n    if (fileView === 'plate') {\n        return (\n            <div className='file-plate' onClick={() => openDirHandler(file)}>\n                <img src={file.type === 'dir' ? dirLogo : fileLogo} alt=\"\" className=\"file-plate__img\"/>\n                <div className=\"file-plate__name\">{file.name}</div>\n                <div className=\"file-plate__btns\">\n                    {file.type !== 'dir' &&\n                    <button onClick={(e) => downloadClickHandler(e)} className=\"file-plate__btn file-plate__download\">download</button>}\n                    <button onClick={(e) => deleteClickHandler(e)} className=\"file-plate__btn file-plate__delete\">delete</button>\n                </div>\n            </div>\n        );\n    }\n\n};\n\nexport default File;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}